<article class="story-card">
  <div class="story-rank">{{ index() }}</div>
  <div class="story-content">
    <header class="story-header">
      <h2 class="story-title">
        <a
          [href]="
            story().url || 'https://news.ycombinator.com/item?id=' + story().id
          "
          target="_blank"
          rel="noopener"
          [attr.aria-label]="'Read the story: ' + story().title"
        >
          {{ story().title }}
        </a>
      </h2>
      @if (story().url) {
        <span class="story-domain">({{ story().url | hostName }})</span>
      }
    </header>
    <footer class="story-meta">
      <div class="story-stats">
        <span class="story-points">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <polygon
              points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"
            ></polygon>
          </svg>
          {{ story().score }}
        </span>
        <span class="story-author">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
          {{ story().by }}
        </span>
        <span class="story-time">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <circle cx="12" cy="12" r="10"></circle>
            <polyline points="12 6 12 12 16 14"></polyline>
          </svg>
          {{ story().time | timeAgo }}
        </span>
      </div>
      <a
        class="story-comments"
        href="https://news.ycombinator.com/item?id={{ story().id }}"
        target="_blank"
        rel="noopener"
        [attr.aria-label]="
          'View ' + story().descendants + ' comments on Hacker News'
        "
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <path
            d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"
          ></path>
        </svg>
        {{ story().descendants || 0 }}
      </a>
    </footer>
  </div>
</article>
